<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/time-to-awesome/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/time-to-awesome/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2709176-10', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/time-to-awesome/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/time-to-awesome/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>InfluxDB Data Model | Time to Awesome</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="InfluxDB Data Model" /><meta property="og:locale" content="en_US" /><meta name="description" content="A Jekyll theme for documentation" /><meta property="og:description" content="A Jekyll theme for documentation" /><link rel="canonical" href="http://localhost:4000/time-to-awesome/docs/part-2/influxdb-data-model/" /><meta property="og:url" content="http://localhost:4000/time-to-awesome/docs/part-2/influxdb-data-model/" /><meta property="og:site_name" content="Time to Awesome" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="InfluxDB Data Model" /> <script type="application/ld+json"> {"description":"A Jekyll theme for documentation","headline":"InfluxDB Data Model","url":"http://localhost:4000/time-to-awesome/docs/part-2/influxdb-data-model/","@type":"WebPage","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/time-to-awesome/" class="site-title lh-tight"> Time to Awesome </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/time-to-awesome/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/time-to-awesome/docs/part-1" class="nav-list-link">Part 1</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-1/introduction-to-influxdb/" class="nav-list-link">Introduction to InfluxDB</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-1/introduction-to-influxdb-tools/" class="nav-list-link">Introduction to InfluxDB Tools</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-1/setting-up-influxdb/" class="nav-list-link">Setting Up InfluxDB</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/time-to-awesome/docs/part-2" class="nav-list-link">Part 2</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/time-to-awesome/docs/part-2/influxdb-data-model/" class="nav-list-link active">InfluxDB Data Model</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-2/input-format-vs-output-format/" class="nav-list-link">Input Format vs Output Format</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-2/designing-your-schema/" class="nav-list-link">Designing Your Schema</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-2/introduction-to-flux/" class="nav-list-link">Introduction to Flux</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-2/querying-and-data-transformations/" class="nav-list-link">Querying and Data Transformations</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-2/deletes/" class="nav-list-link">Deletes</a><li class="nav-list-item "><a href="http://localhost:4000/time-to-awesome/docs/part-2/optimizing-flux-performance/" class="nav-list-link">Optimizing Flux Performance</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/time-to-awesome/docs/part-3" class="nav-list-link">Part 3</a><ul class="nav-list "></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Time to Awesome" aria-label="Search Time to Awesome" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/influxdata/book.github.io" class="site-button" > Time to Awesome on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/time-to-awesome/docs/part-2">Part 2</a><li class="breadcrumb-nav-list-item"><span>InfluxDB Data Model</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 class="no_toc" id="influxdb-data-model"> <a href="#influxdb-data-model" class="anchor-heading" aria-labelledby="influxdb-data-model"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> InfluxDB Data Model</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#influxdb-data-elements" id="markdown-toc-influxdb-data-elements">InfluxDB Data Elements</a><ol><li><a href="#buckets" id="markdown-toc-buckets">Buckets</a><li><a href="#measurements" id="markdown-toc-measurements">Measurements</a><li><a href="#tag-sets" id="markdown-toc-tag-sets">Tag Sets</a><li><a href="#field-sets" id="markdown-toc-field-sets">Field Sets</a></ol><li><a href="#series-and-points" id="markdown-toc-series-and-points">Series and Points</a><li><a href="#assumptions-and-conventions" id="markdown-toc-assumptions-and-conventions">Assumptions and Conventions</a><ol><li><a href="#conventions-used-in-this-book" id="markdown-toc-conventions-used-in-this-book">Conventions Used In This Book</a><li><a href="#meta-syntax-for-examples" id="markdown-toc-meta-syntax-for-examples">Meta Syntax for Examples</a></ol></ol><hr /><p>The goal of this section is to provide the reader with a firm foundation in the InfluxDB data model, specifically:</p><ul><li>Understanding the InfluxDB input format (line protocol).<li>Understanding the InfluxDB output format (annotated CSV).<li>The relationships between these two formats.<li>Understanding how the Influxdb storage engine persists data in a table on disk</ul><h2 id="influxdb-data-elements"> <a href="#influxdb-data-elements" class="anchor-heading" aria-labelledby="influxdb-data-elements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> InfluxDB Data Elements</h2><h3 id="buckets"> <a href="#buckets" class="anchor-heading" aria-labelledby="buckets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Buckets</h3><p>All data in InfluxDB gets written to a bucket. A <a href="https://docs.influxdata.com/influxdb/cloud/organizations/buckets/">bucket</a> is a container that can hold points for as many measurements as you like. Buckets have some important properties:</p><ol><li>They can be named whatever you want (within reason).<li>You can create tokens that can control read and write permissions for a bucket, scoped only to a specific bucket.<li>You must set a retention period on a bucket, upon creation. A <a href="https://docs.influxdata.com/influxdb/cloud/reference/glossary/#retention-period">retention period</a> determines how long InfluxDB will store your time series data within that bucket. Retention periods are critical for time series database management. They provide users with a convenient solution for automatic expiration of old, useless data which enables them to focus on the recent, valuable data instead while reducing their storage bills.</ol><p>These topics will be covered in detail in a later section, for now, it is enough to know that measurements are stored in and read from a bucket.</p><h3 id="measurements"> <a href="#measurements" class="anchor-heading" aria-labelledby="measurements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Measurements</h3><p>A <a href="https://docs.influxdata.com/influxdb/v2.0/reference/syntax/line-protocol/#measurement">measurement</a> is the highest level of data structure within a bucket. InfluxDB accepts one measurement per point. Use a measurement to organize similar data. In some ways, you can think of it as analogous to a table in a traditional database. Measurements are also indexed, which enables you to query data within a measurement more quickly when you filter for a specific measurement. Measurements must be a string type. Measurement names cannot begin with an underscore.</p><p>To further understand measurements, let’s imagine you’re building a weather app and writing temperature data across multiple cities to InfluxDB. For this time series use case, you might create a measurement named “air_temperature”.</p><h3 id="tag-sets"> <a href="#tag-sets" class="anchor-heading" aria-labelledby="tag-sets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tag Sets</h3><p>A <a href="https://docs.influxdata.com/influxdb/v2.0/reference/syntax/line-protocol/#tag-set">tag set</a> consists of key-value pairs, where the values are always strings. Tags are essentially metadata, typically encoding information about the source of the data.</p><p>Imagine you’re building a weather app and writing temperature data across multiple cities to InfluxDB. For this time series use case, you might add a tag key to your data called “location” where the “location” tag key contains tag values for the cities weather you’re monitoring. This way you can easily query for all of the temperature data for “Los Angeles”, for example, by filtering for the “location” tag key with the “Los Angeles” tag value.</p><p>Critically, tags are indexed, so they are an important element of designing for query performance. However, tags are also optional. Tag keys cannot begin with an underscore, because InfluxDB reserves leading underscores for its own purposes.</p><h3 id="field-sets"> <a href="#field-sets" class="anchor-heading" aria-labelledby="field-sets"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Field Sets</h3><p>A <a href="https://docs.influxdata.com/influxdb/v2.0/reference/syntax/line-protocol/#field-set">field set</a> consists of key-value pairs, where the values can be strings, integers, or floats. Fields are the actual data to store, visualize, use for computations, etc…</p><p>Building on the weather app example, the temperature readings would be an example of a field.</p><p>Field sets are required for InfluxDB. This is where you store the value of your time series data. Field values can be of either an integer, float, or string type. Since field values are almost always different, field keys are frequently referred to as just fields. Fields are not indexed. Field also cannot begin with an underscore.</p><h2 id="series-and-points"> <a href="#series-and-points" class="anchor-heading" aria-labelledby="series-and-points"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Series and Points</h2><p>A series is defined by the unique combination of measurement, tag set(s), and fields. A point is a datapoint from a series at a specific timestamp. If you rewrite a duplicate point with identical measurement, tag set, field, and timestamp values, this write will overwrite your previous point. If you try to write a new point to the same series but you change the field type, this write will fail.</p><h2 id="assumptions-and-conventions"> <a href="#assumptions-and-conventions" class="anchor-heading" aria-labelledby="assumptions-and-conventions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Assumptions and Conventions</h2><p>Before diving into more nuanced and technical topics around the InfluxDB Data Model, let’s take a moment to establish some baseline assumptions and conventions.</p><h3 id="conventions-used-in-this-book"> <a href="#conventions-used-in-this-book" class="anchor-heading" aria-labelledby="conventions-used-in-this-book"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conventions Used In This Book</h3><p>Chapters in this book will generally introduce concepts using abstract and simplified examples, and then follow with detailed examples using real world data.</p><h3 id="meta-syntax-for-examples"> <a href="#meta-syntax-for-examples" class="anchor-heading" aria-labelledby="meta-syntax-for-examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Meta Syntax for Examples</h3><p>For the abstract and simplified examples, we will use names in the form of:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>attributeorvaluen
</code></pre></div></div><p>Where “attributeorvalue” refers a column name of a table or a value in a point, and “n” is a number simply differentiating multiple identifiers of the same role. Roles can comprise any of the following:</p><ul><li>Measurement<li>Tag<li>Tag Value<li>Field</ul><p>Samples will also generally include:</p><ul><li>Field Values<li>Timestamps</ul><p>Field values will be represented by actual values. Timestamps are in the following timestamp formats:</p><ul><li>Unix: The unix timestamp is a way to track time as a running total of seconds–i.e. <code class="language-plaintext highlighter-rouge">1465839830100400200</code><li>RFC3339: A standard for date and time representation from a Request For Comment document by the Internet Engineering Task Force (IETF)–​​i.e. <code class="language-plaintext highlighter-rouge">2019-08-28T22:00:000000000Z</code><li>Relative Duration: -<code class="language-plaintext highlighter-rouge">1h</code><li>Duration: <code class="language-plaintext highlighter-rouge">1h</code></ul><p>Timestamps will be represented by actual values or by <code class="language-plaintext highlighter-rouge">unixtime1</code> or <code class="language-plaintext highlighter-rouge">rfc3339time1</code> . In case we want to refer to another timestamp in the same example, we will use <code class="language-plaintext highlighter-rouge">unixtime2</code> or <code class="language-plaintext highlighter-rouge">rfc3339time2</code>.</p><p>To refer to a measurement in an example, we will use: <code class="language-plaintext highlighter-rouge">measurement1</code>. In case we want to refer to another measurement in the same example, we will use <code class="language-plaintext highlighter-rouge">measurement2</code>, and so forth.</p><p>An example of line protocol (explained in depth later) then, may look like:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">measurement1</span><span class="p">,</span><span class="nx">tag1</span><span class="o">=</span><span class="nx">tagvalule1</span><span class="p">,</span><span class="nx">tag2</span><span class="o">=</span><span class="nx">tagvalue2</span> <span class="nx">field1</span><span class="o">=</span><span class="mi">1</span><span class="nx">i</span><span class="p">,</span><span class="nx">field2</span><span class="o">=</span><span class="mi">2</span> <span class="mi">1628858104</span>
</code></pre></div></div><p>From time to time an example may be focused on understanding a type. In such cases, we will use the form “atype” where “type” is the data type under focus. For example, if we are discussing that field names are always strings. we may say:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">r</span><span class="p">.</span><span class="nx">_field</span> <span class="o">==</span> <span class="dl">"</span><span class="s2">astring</span><span class="dl">"</span>
</code></pre></div></div><p>Or if we are discussing type conflicts, we may say:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">aint</span> <span class="o">==</span> <span class="nx">afloat</span>
</code></pre></div></div><p>Instead of an example with specific values such as:</p><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span><span class="nx">i</span> <span class="o">==</span> <span class="mf">1.0</span>
</code></pre></div></div><p><a href="/time-to-awesome/docs/part-2/input-format-vs-output-format" class="btn btn-purple">Next Section</a></p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; InfluxData.</p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/pmarsceill/just-the-docs/tree/master/docs/part-2/influxdb-data-model.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
